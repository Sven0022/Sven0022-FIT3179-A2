<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental Impacts Dashboard</title>
     
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.0.6/build/pure-min.css">
    <link rel="stylesheet" href="style.css">
     
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
    <div class="page"> 
        <div class="bubble-title">
            Environmental Impacts on the World
        </div>
 
        <div class="pure-g">
            <div class="pure-u-1 full-width-container">
                <div id="map"></div>
            </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-1 full-width-container text-container">
              <div class="text-content">
                  <h2>Environmental Impact Summary</h2>
                  <p>
                      The world faces numerous environmental challenges such as air pollution, water scarcity, and deforestation. Monitoring and addressing these issues is crucial to achieving sustainability and ensuring a healthy planet for future generations. This dashboard provides insights into key environmental indicators across the globe, allowing us to understand the impact of human activities on the environment and the steps being taken towards mitigation.
                  </p>
              </div>
          </div>
      </div>
 
        <div class="pure-g">
            <div class="pure-u-1-2 vis-container">
                <div id="line-chart"></div>
            </div>
            <div class="pure-u-1-2 vis-container">
                <div id="scatter-plot"></div>
            </div>
        </div>
        <div class="pure-g">
          <div class="pure-u-1 full-width-container text-container">
              <div class="text-content">
                  <h2>Environmental Impact Summary</h2>
                  <p>
                      The world faces numerous environmental challenges such as air pollution, water scarcity, and deforestation. Monitoring and addressing these issues is crucial to achieving sustainability and ensuring a healthy planet for future generations. This dashboard provides insights into key environmental indicators across the globe, allowing us to understand the impact of human activities on the environment and the steps being taken towards mitigation.
                  </p>
              </div>
          </div>
      </div>
 
        <div class="pure-g">
            <div class="pure-u-1 full-width-container">
                <div id="gauge-chart"></div>
            </div>
        </div>

        <div class="pure-g"> 
            <div class="pure-u-1-2 description-container">
                <div class="top-half">
                    <h2>About Malaysia</h2>
                    <p>
                        Malaysia, a Southeast Asian country, is known for its rich biodiversity, tropical climate, and vibrant culture. The country is committed to sustainable development goals, with initiatives in reducing air and water pollution, improving sanitation, and increasing access to clean energy. In recent years, Malaysia has taken steps to monitor river basin pollution and reduce greenhouse gas emissions.
                    </p>
                </div>
                <div class="bottom-half vis-container">
                    <div id="bump-chart"></div>
                </div>
            </div>
 
            <div class="pure-u-1-2 right-container"> 
                <div class="stacked-container vis-container">
                    <div id="bar-chart"></div>
                </div> 
                <div class="stacked-container vis-container">
                    <h2>Marimekko Chart</h2>
                    <p>
                        The Marimekko chart is a type of stacked bar chart that displays data in a matrix format. Each bar represents a category, and the width of the bar is proportional to the value it represents. The height of the bar is determined by the total value of all categories in the same column. This chart is useful for visualizing the distribution of data across multiple categories and identifying patterns and trends over time.
                    </p>
                </div>
                <div class="stacked-container vis-container">
                    <div id="marimekko-chart"></div> 
                    <button id="playButton" class="pure-button pure-button-primary">Play</button>
                </div>
            </div>
        </div>
    </div>
 
    <script type="text/javascript">
       
      var specMap = "map.json";
      var specLineChart = "line.json";
      var specScatterPlot = "scatter.json";
      var specBarChart = "bar.json";
      var specMarimekkoChart = "marimekko.json";  
      var specgauge = "gauge.json";
      var specBumpChart = "bump.json";
      var viewMarimekko; 

      var year = 2000; 
      var playing = false; 
      var interval; 

      // Embed the charts
      vegaEmbed('#map', specMap, { "actions": false }).catch(console.error);
      vegaEmbed('#line-chart', specLineChart, { "actions": false }).catch(console.error);
      vegaEmbed('#scatter-plot', specScatterPlot, { "actions": false }).catch(console.error);
      vegaEmbed('#bar-chart', specBarChart, { "actions": false }).catch(console.error);
      vegaEmbed('#gauge-chart', specgauge, { "actions": false }).catch(console.error);
      vegaEmbed('#marimekko-chart', specMarimekkoChart, { "actions": false }).then(function(result) {
        viewMarimekko = result.view;
        viewMarimekko.signal("selectedYear", year).run(); 
      }).catch(console.error);

      // Embed the bump chart in the bottom half
      vegaEmbed('#bump-chart', specBumpChart, { "actions": false }).catch(console.error);

      function playMarimekko() {
        if (playing) {
          clearInterval(interval); 
          playing = false;
        } else {
          interval = setInterval(function() {
            if (year < 2022) {
              year++;
            } else {
              year = 2000; 
            }
            viewMarimekko.signal("selectedYear", year).run();
          }, 1000); 
          playing = true;
        }
      }

      document.getElementById("playButton").addEventListener("click", playMarimekko);
    </script>
</body>
</html>
